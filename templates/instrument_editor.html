<div class="pr1 br instrument-panel">
<h2 class="h3 section-header">Sound Generator</h2>
<span class="block mt1 lightText">Base:</span>
<span class="control">
  <label class="control-label indented">Waveform:</label>
  <span class="flex waveformOptionsContainer">
    <span class="radioContainer">
      <input id="waveformSine" ng-model="ctrl.instrument.waveform1" ng-change="ctrl.updateInstrument();" value="sine" type="radio">
      <label for="waveformSine" class="radioLabel">Sine</label>
    </span>
    <span class="radioContainer">
      <input id="waveformSquare" ng-model="ctrl.instrument.waveform1" ng-change="ctrl.updateInstrument();" value="square" type="radio">
      <label for="waveformSquare" class="radioLabel">Square</label>
    </span>
    <span class="radioContainer">
      <input id="waveformSaw" ng-model="ctrl.instrument.waveform1" ng-change="ctrl.updateInstrument();" value="sawtooth" type="radio">
      <label for="waveformSaw" class="radioLabel">Saw</label>
    </span>
    <span class="radioContainer">
      <input id="waveformTriangle" ng-model="ctrl.instrument.waveform1" ng-change="ctrl.updateInstrument();" value="triangle" type="radio">
      <label for="waveformTriangle" class="radioLabel">Triangle</label>
    </span>
  </span>
</span>
<span class="control">
  <label class="control-label indented">Octave:</label>
  <span class="annotated-input">
    <input ng-model="ctrl.instrument.waveform1Octave" ng-change="ctrl.updateInstrument();" type="range" min="-2" max="2" step="1" />
    <span>{{ctrl.instrument.waveform1Octave | octaveOffset}}</span>
  </span>
</span>

<span class="block mt1 lightText">Secondary:</span>
<span class="control">
  <label class="control-label indented">Waveform:</label>
  <span class="flex waveformOptionsContainer">
    <span class="radioContainer">
      <input id="waveformSine2" ng-model="ctrl.instrument.waveform2" ng-change="ctrl.updateInstrument();" value="sine" type="radio">
      <label for="waveformSine2" class="radioLabel">Sine</label>
    </span>
    <span class="radioContainer">
      <input id="waveformSquare2" ng-model="ctrl.instrument.waveform2" ng-change="ctrl.updateInstrument();" value="square" type="radio">
      <label for="waveformSquare2" class="radioLabel">Square</label>
    </span>
    <span class="radioContainer">
      <input id="waveformSaw2" ng-model="ctrl.instrument.waveform2" ng-change="ctrl.updateInstrument();" value="sawtooth" type="radio">
      <label for="waveformSaw2" class="radioLabel">Saw</label>
    </span>
    <span class="radioContainer">
      <input id="waveformTriangle2" ng-model="ctrl.instrument.waveform2" ng-change="ctrl.updateInstrument();" value="triangle" type="radio">
      <label for="waveformTriangle2" class="radioLabel">Triangle</label>
    </span>
  </span>
</span>
<span class="control">
  <label class="control-label indented">Octave:</label>
  <span class="annotated-input">
    <input ng-model="ctrl.instrument.waveform2Octave" ng-change="ctrl.updateInstrument();" type="range" min="-2" max="2" step="1" />
    <span>{{ctrl.instrument.waveform2Octave | octaveOffset}}</span>
  </span>
</span>
<span class="control">
  <label class="control-label indented">Detune:</label>
  <span class="annotated-input">
    <input ng-model="ctrl.instrument.waveform2Detune" ng-change="ctrl.updateInstrument();" type="range" min="-100" max="100" step="1" />
    <span>{{ctrl.instrument.waveform2Detune}}c</span>
  </span>
</span>
</div>
<div class="pl1 pr1 br border-box instrument-panel">
<h2 class="h3 section-header">Filter</h2>
<span class="control">
  <label class="control-label">Cutoff:</label>
  <span class="annotated-input"> 
    <input ng-model="ctrl.instrument.filterCutoff" ng-change="ctrl.updateInstrument();" type="range" min="50" max="9950" step="50" />
    <span>{{ctrl.instrument.filterCutoff}}Hz</span>
  </span>
</span>
<span class="control">
  <label class="control-label">Resonance:</label>
  <span class="annotated-input">
    <input ng-model="ctrl.instrument.filterResonance" ng-change="ctrl.updateInstrument();" type="range" min="0" max="20" step="1.0" />
    <span>{{ctrl.instrument.filterResonance}}</span>
  </span>
</span>
<span class="control">
  <label class="control-label">Modulation:</label>
  <span class="flex waveformOptionsContainer">
    <span class="radioContainer">
      <input id="filterModulatorLFO" ng-model="ctrl.instrument.filterModulator" ng-change="ctrl.updateInstrument();" value="lfo" type="radio">
      <label for="filterModulatorLFO" class="radioLabel">Wobble</label>
    </span>
    <span class="radioContainer">
      <input id="filterModulatorEnvelope" ng-model="ctrl.instrument.filterModulator" ng-change="ctrl.updateInstrument();" value="envelope" type="radio">
      <label for="filterModulatorEnvelope" class="radioLabel">Envelope</label>
    </span>
  </span>
</span>
<div ng-class="{'display-none':(ctrl.instrument.filterModulator !== 'lfo')}">
  <span class="block mt1 lightText">Cutoff Wobble:</span>
  <span class="control">
    <label class="control-label indented">Amount:</label>
    <span class="annotated-input">
      <input ng-model="ctrl.instrument.filterLFOAmplitude" ng-change="ctrl.updateInstrument();" type="range" min="0.0" max="1.0" step="0.01" />
      <span>{{(ctrl.instrument.filterLFOAmplitude * 100) | number:0}}%</span>
    </span>
  </span>
  <span class="control">
    <label class="control-label indented">Rate:</label>
    <span class="annotated-input">
      <input ng-model="ctrl.instrument.filterLFOFrequency" ng-change="ctrl.updateInstrument();" type="range" min="0.0" max="20.0" step="0.1" />
      <span>{{ctrl.instrument.filterLFOFrequency}}Hz</span>
    </span>
  </span>
  <span class="control">
    <label class="control-label indented">Waveform:</label>
    <span class="flex waveformOptionsContainer">
      <span class="radioContainer">
        <input id="filterLFOWaveformSine" ng-model="ctrl.instrument.filterLFOWaveform" ng-change="ctrl.updateInstrument();" value="sine" type="radio">
        <label for="filterLFOWaveformSine" class="radioLabel">Sine</label>
      </span>
      <span class="radioContainer">
        <input id="filterLFOWaveformSquare" ng-model="ctrl.instrument.filterLFOWaveform" ng-change="ctrl.updateInstrument();" value="square" type="radio">
        <label for="filterLFOWaveformSquare" class="radioLabel">Square</label>
      </span>
      <span class="radioContainer">
        <input id="filterLFOWaveformSaw" ng-model="ctrl.instrument.filterLFOWaveform" ng-change="ctrl.updateInstrument();" value="sawtooth" type="radio">
        <label for="filterLFOWaveformSaw" class="radioLabel">Saw</label>
      </span>
      <span class="radioContainer">
        <input id="filterLFOWaveformTriangle" ng-model="ctrl.instrument.filterLFOWaveform" ng-change="ctrl.updateInstrument();" value="triangle" type="radio">
        <label for="filterLFOWaveformTriangle" class="radioLabel">Triangle</label>
      </span>
    </span>
  </span>
</div>
<div ng-class="{'display-none':(ctrl.instrument.filterModulator !== 'envelope')}">
  <span class="block mt1 lightText">Cutoff Envelope:</span>
  <span class="control">
    <label class="control-label indented">Attack Speed:</label>
    <span class="annotated-input">
      <input ng-model="ctrl.instrument.filterEnvelopeAttack" ng-change="ctrl.updateInstrument();" type="range" min="0.0" max="0.3" step="0.01" />
      <span>{{ctrl.instrument.filterEnvelopeAttack * 1000}} ms</span>
    </span>
  </span>
  <span class="control">
    <label class="control-label indented">Decay Speed:</label>
    <span class="annotated-input">
      <input ng-model="ctrl.instrument.filterEnvelopeDecay" ng-change="ctrl.updateInstrument();" type="range" min="0.0" max="0.3" step="0.01" />
      <span>{{ctrl.instrument.filterEnvelopeDecay * 1000}} ms</span>
    </span>
  </span>
  <span class="control">
    <label class="control-label indented">Sustain Volume:</label>
    <span class="annotated-input">
      <input ng-model="ctrl.instrument.filterEnvelopeSustain" ng-change="ctrl.updateInstrument();" type="range" min="0.0" max="1.0" step="0.01" />
      <span>{{(ctrl.instrument.filterEnvelopeSustain * 100) | number:0}}%</span>
    </span>
  </span>
  <span class="control">
    <label class="control-label indented">Release Speed:</label>
    <span class="annotated-input">
      <input ng-model="ctrl.instrument.filterEnvelopeRelease" ng-change="ctrl.updateInstrument();" type="range" min="0.0" max="0.3" step="0.01" />
      <span>{{ctrl.instrument.filterEnvelopeRelease * 1000}} ms</span>
    </span>
  </span>
</div>
</div>
<div class="pl1 border-box instrument-panel">
<h2 class="h3 section-header">Pitch Wobble</h2>
<span class="control">
  <label class="control-label">Amount:</label>
  <span class="annotated-input">
    <input ng-model="ctrl.instrument.lfoAmplitude" ng-change="ctrl.updateInstrument();" type="range" min="0" max="100" step="1" />
    <span>{{ctrl.instrument.lfoAmplitude}}Hz</span>
  </span>
</span>
<span class="control">
  <label class="control-label">Rate:</label>
  <span class="annotated-input">
    <input ng-model="ctrl.instrument.lfoFrequency" ng-change="ctrl.updateInstrument();" type="range" min="0.0" max="20.0" step="0.1" />
    <span>{{ctrl.instrument.lfoFrequency}}Hz</span>
  </span>
</span>
<span class="control">
  <label class="control-label">Waveform:</label>
  <span class="flex waveformOptionsContainer">
    <span class="radioContainer">
      <input id="lfoWaveformSine" ng-model="ctrl.instrument.lfoWaveform" ng-change="ctrl.updateInstrument();" value="sine" type="radio">
      <label for="lfoWaveformSine" class="radioLabel">Sine</label>
    </span>
    <span class="radioContainer">
      <input id="lfoWaveformSquare" ng-model="ctrl.instrument.lfoWaveform" ng-change="ctrl.updateInstrument();" value="square" type="radio">
      <label for="lfoWaveformSquare" class="radioLabel">Square</label>
    </span>
    <span class="radioContainer">
      <input id="lfoWaveformSaw" ng-model="ctrl.instrument.lfoWaveform" ng-change="ctrl.updateInstrument();" value="sawtooth" type="radio">
      <label for="lfoWaveformSaw" class="radioLabel">Saw</label>
    </span>
    <span class="radioContainer">
      <input id="lfoWaveformTriangle" ng-model="ctrl.instrument.lfoWaveform" ng-change="ctrl.updateInstrument();" value="triangle" type="radio">
      <label for="lfoWaveformTriangle" class="radioLabel">Triangle</label>
    </span>
  </span>
</span>

<h2 class="h3 section-header">Loudness Envelope</h2>
<span class="control">
  <label class="control-label">Attack Speed:</label>
  <span class="annotated-input">
    <input ng-model="ctrl.instrument.envelopeAttack" ng-change="ctrl.updateInstrument();" type="range" min="0.0" max="0.3" step="0.01" />
    <span>{{ctrl.instrument.envelopeAttack * 1000}} ms</span>
  </span>
</span>
<span class="control">
  <label class="control-label">Decay Speed:</label>
  <span class="annotated-input">
    <input ng-model="ctrl.instrument.envelopeDecay" ng-change="ctrl.updateInstrument();" type="range" min="0.0" max="0.3" step="0.01" />
    <span>{{ctrl.instrument.envelopeDecay * 1000}} ms</span>
  </span>
</span>
<span class="control">
  <label class="control-label">Sustain Volume:</label>
  <span class="annotated-input">
    <input ng-model="ctrl.instrument.envelopeSustain" ng-change="ctrl.updateInstrument();" type="range" min="0.0" max="1.0" step="0.01" />
    <span>{{(ctrl.instrument.envelopeSustain * 100) | number:0}}%</span>
  </span>
</span>
<span class="control">
  <label class="control-label">Release Speed:</label>
  <span class="annotated-input">
    <input ng-model="ctrl.instrument.envelopeRelease" ng-change="ctrl.updateInstrument();" type="range" min="0.0" max="0.3" step="0.01" />
    <span>{{ctrl.instrument.envelopeRelease * 1000}} ms</span>
  </span>
</span>
</div>
